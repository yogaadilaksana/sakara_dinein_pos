<!DOCTYPE html>
<html>
<body>
  <button onclick="scan()">Scan for Bluetooth Devices</button>
  <script>
    async function scan() {
      try {
        // Meminta perangkat Bluetooth
        const device = await navigator.bluetooth.requestDevice({
          acceptAllDevices: true
        });
        console.log('Device found:', device);

        // Menghubungkan ke perangkat dan mendapatkan layanan
        const server = await device.gatt.connect();
        console.log('Device connected:', device);

        // Mendapatkan layanan
        const services = await server.getPrimaryServices();
        console.log('Services found:');
        services.forEach(async (service) => {
          console.log('Service UUID:', service);

          // Mendapatkan karakteristik dari setiap layanan
          const characteristics = await service.getCharacteristics();
          characteristics.forEach((characteristic) => {
            console.log('Characteristic UUID:', characteristic.uuid);
          });
        });
      } catch (error) {
        console.error('Error:', error);
      }
    }
  </script>
</body>
</html>
